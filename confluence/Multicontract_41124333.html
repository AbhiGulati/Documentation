<!DOCTYPE html>
<html>
    <head>
        <title>Certora Prover Documentation : Multicontract</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Certora Prover Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Certora-Prover-Documentation_2916669.html">Certora Prover Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Advanced-Subjects_3080193.html">Advanced Subjects</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Certora Prover Documentation : Multicontract
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Shelly</span> on May 22, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>When we run the Certora Prover, we usually write the specification with a particular contract in mind. However, the checked contract may interact with other contracts, e.g., other contracts that belong to the same protocol, or 3rd party contracts such as ERC20.</p><p>‌The Certora Prover allows modeling the interaction between concrete instances of contracts. First, one has to include all relevant contracts in the verification context. For example, if we have <code>Protocol.sol</code> interacting with another contract <code>Auxiliary.sol</code>, we will run the tool as follows:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">certoraRun Protocol.sol Auxiliary.sol --verify Protocol:spec.spec</pre>
</div></div><p>‌where <code>spec.spec</code> is our specification file.</p><p>‌We can now write rules that refer to functions of both <code>Protocol</code> and <code>Auxiliary</code> as follows:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">using Protocol as protocolInstance
using Auxiliary as auxInstance

rule example {
    assert protocolInstance.get1() == auxiliaryInstance.get2();
}</pre>
</div></div><p>‌Note that <code>Protocol</code> and <code>Auxiliary</code> get a unique address. <code>get1()</code> is a method of <code>Protocol</code> and <code>`get2()`</code> is a method of <code>Auxiliary</code>.</p><p>If <code>Protocol</code> is calling <code>Auxiliary</code> within its code, then the call to <code>Auxiliary</code> should be either <em>inlined</em> or <em>summarized</em>. We elaborate on that in the next section.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jan 21, 2022 10:00</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
